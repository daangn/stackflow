import Callout from "nextra-theme-docs/callout";

# í”ŒëŸ¬ê·¸ì¸ ì‘ì„±í•˜ê¸°

**Stackflow**ëŠ” í”ŒëŸ¬ê·¸ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‘ì„±í•œ í™•ì¥ ë¡œì§ì„ ì‰½ê²Œ ë‚´ ì–´í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì—°ë™í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ìš”. í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ë‚˜ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ , ì´ë¥¼ ì˜ˆì˜ê²Œ ê°ì‹¸ì„œ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ í•´ë³´ì„¸ìš”.

## í”„ë¦¬ì…‹ ë§Œë“¤ê¸°

**Stackflow** í”ŒëŸ¬ê·¸ì¸ì„ ì¶œíŒí•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ë‹¤ë¥¸ ì‚¬ëŒì´ ë§Œë“  í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ì¡°í•©í•´ì„œ í”„ë¦¬ì…‹ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê²ƒì´ì—ìš”. ë‹¤ìŒê³¼ ê°™ì´ ì—¬ëŸ¬ í”ŒëŸ¬ê·¸ì¸ì„ Arrayë¡œ ë¬¶ì–´ì„œ ë‚˜ë§Œì˜ í”„ë¦¬ì…‹ì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.

```typescript
import { renderPlugin } from "@stackflow/plugin-render";
import { uiPlugin } from "@stackflow/plugin-ui";
import { stackflow } from "@stackflow/react";

const myPlugin = () => [renderPlugin(), uiPlugin()];

stackflow({
  // ...
  plugins: [myPlugin()],
});
```

## ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤

í”ŒëŸ¬ê·¸ì¸ì€ í•¨ìˆ˜ì˜ í˜•íƒœë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í•„ìˆ˜ë¡œ ë°˜í™˜í•´ì•¼í•´ìš”.

| í•„ë“œ | ì„¤ëª…                                                                                            |
| ---- | ----------------------------------------------------------------------------------------------- |
| key  | í”ŒëŸ¬ê·¸ì¸ì´ Array í˜•íƒœë¡œ ë¦¬ì•¡íŠ¸ íŠ¸ë¦¬ ë‚´ì— ë Œë”ë§ ë ë•Œ `key` ê°’ìœ¼ë¡œ ë¶€ì—¬í•  ê³ ìœ í•œ String ê°’ì´ì—ìš” |

ë‚´ ì•±ì— ë‚˜ë§Œì˜ ì²« í”ŒëŸ¬ê·¸ì¸ ê°œë°œì„ ì‹œë„í•´ë³´ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ inline í•¨ìˆ˜ë¡œ ì‹œì‘í•´ë³´ì„¸ìš”. (ì–´ë µì§€ ì•Šì•„ìš”!)

```typescript
import { renderPlugin } from "@stackflow/plugin-render";
import { uiPlugin } from "@stackflow/plugin-ui";
import { stackflow } from "@stackflow/react";

stackflow({
  // ...
  plugins: [
    renderPlugin(),
    uiPlugin(),
    () => {
      return {
        key: "my-plugin",
      };
    },
  ],
});
```

## ë Œë”ë§ ì¶”ê°€í•˜ê¸°

ë Œë”ë§ì„ ìƒˆë¡œ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´, `render` APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. Stack ìƒíƒœë¥¼ ì´ìš©í•´ ì–´ë–»ê²Œ DOMì„ ìµœì í™”í• ì§€ ê²°ì •í•˜ê³  ì‹¶ê±°ë‚˜, ë•Œì— ë”°ë¼ ìƒˆë¡œ ì–¹ì„ ìƒˆë¡œìš´ DOM íŠ¸ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´ `render` APIë¥¼ í™œìš©í•˜ì„¸ìš”.

```tsx
stackflow({
  // ...
  plugins: [
    () => {
      return {
        key: "my-plugin",
        render({ stack }) {
          return (
            <div className="my-rendering">
              {stack.render().activities.map((activity) => (
                <div className="my-activity" key={activity.id}>
                  {activity.render()}
                </div>
              ))}
            </div>
          );
        },
      };
    },
  ],
});
```

ë‹¤ìŒê³¼ ê°™ì´ UIì— ì „ë‹¬ë˜ëŠ” ìŠ¤íƒ ìƒíƒœë¥¼ ë®ì–´ ì“¸ ìˆ˜ë„ ìˆì–´ìš”.

```tsx
stackflow({
  // ...
  plugins: [
    () => {
      return {
        key: "my-plugin",
        render({ stack }) {
          return (
            <div className="my-rendering">
              {stack
                .render({
                  // ì—¬ê¸°ì„œ stack ìƒíƒœë¥¼ ë®ì–´ì“¸ ìˆ˜ ìˆì–´ìš”.
                })
                .activities.map((activity) => (
                  <div className="my-activity" key={activity.id}>
                    {activity.render({
                      // ì—¬ê¸°ì„œ activity ìƒíƒœë¥¼ ë®ì–´ì“¸ ìˆ˜ ìˆì–´ìš”.
                    })}
                  </div>
                ))}
            </div>
          );
        },
      };
    },
  ],
});
```

<Callout emoji="ğŸ’¡">
  ë®ì–´ì¨ì§„ ìƒíƒœê°’ì€ ë©”ì¸ ìŠ¤íƒì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ , í•´ë‹¹ ë Œë”ë§ í•˜ìœ„ì˜ React ì˜
  `useStack()`, `useActivity()`ì—ë§Œ ì ìš©ë¼ìš”.
</Callout>

## ìŠ¤íƒ ê°ì‹¸ê¸°

ìµœìƒë‹¨ì— Context API Providerë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ê±°ë‚˜, ìµœìƒë‹¨ì„ íŠ¹ì • DOMìœ¼ë¡œ ê°ì‹¸ê³  ì‹¶ë‹¤ë©´ `wrapStack` ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì„¸ìš”.

```tsx
stackflow({
  // ...
  plugins: [
    () => {
      return {
        key: "my-plugin",
        wrapStack({ stack }) {
          // ì—¬ê¸°ì„œ ì¸ìë¡œ ê°€ì ¸ì˜¨ stack ì •ë³´ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
          return <div className="my-plugin">{stack.render()}</div>;
        },
      };
    },
  ],
});
```

<Callout type="warning" emoji="âš ï¸">
  **ì£¼ì˜** - `wrapStack` APIëŠ” ëª¨ë“  ë Œë”ë§ì— í•¨ê»˜ ì ìš©ë¼ìš”. ì˜ë„ì¹˜ ì•Šì€ ì‚¬ì´ë“œ
  ì´í™íŠ¸ê°€ ìƒê¸¸ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ìš”.
</Callout>

## ì•¡í‹°ë¹„í‹° ê°ì‹¸ê¸°

ê° ì•¡í‹°ë¹„í‹°ë¥¼ Context API Providerë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ê±°ë‚˜, íŠ¹ì • DOMìœ¼ë¡œ ê°ì‹¸ê³  ì‹¶ë‹¤ë©´ `wrapActivity` ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì„¸ìš”.

```tsx
stackflow({
  // ...
  plugins: [
    () => {
      return {
        key: "my-plugin",
        wrapActivity({ activity }) {
          // ì—¬ê¸°ì„œ ì¸ìë¡œ ê°€ì ¸ì˜¨ activity ì •ë³´ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
          return <div className="my-activity">{activity.render()}</div>;
        },
      };
    },
  ],
});
```

<Callout type="warning" emoji="âš ï¸">
  **ì£¼ì˜** - `wrapActivity` APIëŠ” ëª¨ë“  ë Œë”ë§ì— í•¨ê»˜ ì ìš©ë¼ìš”. ì˜ë„ì¹˜ ì•Šì€
  ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ìƒê¸¸ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ìš”.
</Callout>

## ë¼ì´í”„ì‚¬ì´í´ í›…

ê¸°ëŠ¥ì„ í™•ì¥í•˜ê±°ë‚˜ ì™¸ë¶€ì˜ ìƒíƒœì™€ ë™ê¸°í™”í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? ìŠ¤íƒ ìƒíƒœê°€ ë³€í™”í• ë•Œë§ˆë‹¤ íŠ¹ì • ë™ì‘ì„ í•˜ê±°ë‚˜, ë˜ëŠ” ìŠ¤íƒ ìƒíƒœê°€ ë³€ê²½ë˜ê¸° ì´ì „ì— í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆì–´ìš”.

### `onInit`

### `onBeforePush`, `onBeforeReplace`, `onBeforePop`

### `onPushed`, `onReplaced`, `onPopped`

### `onChanged`

## ì²« ì•¡í‹°ë¹„í‹° ê²°ì •í•˜ê¸°
